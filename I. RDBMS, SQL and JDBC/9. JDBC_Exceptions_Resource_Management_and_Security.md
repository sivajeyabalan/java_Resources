## 1. Topic Overview

- Robust JDBC code handles exceptions, cleans up resources reliably, and guards against security issues like SQL injection and credential leaks.

## 2 . Topic definition

- WHAT: `SQLException` hierarchy, SQLState/vendor codes, try-with-resources, parameter binding, credential management.
- WHY: Prevent leaks, improve diagnostics, and keep data secure.
- HOW: Use try-with-resources, log SQLState/errorCode, sanitize inputs via `PreparedStatement`, externalize credentials.
- WHEN/WHERE: All JDBC code paths.
- WHAT IF: Swallowing exceptions hides root causes; string-concatenated SQL invites injection.

## 3. Deep Dive with Examples

```java
import java.sql.*;

class ExceptionHandling {
    public static void main(String[] args) {
        try (Connection con = DriverManager.getConnection("jdbc:h2:mem:ex;DB_CLOSE_DELAY=-1");
             PreparedStatement ps = con.prepareStatement("select * from dual where ?=?")) {
            ps.setInt(1, 1);
            ps.setInt(2, 1);
            ps.executeQuery();
        } catch (SQLException e) {
            System.err.println("SQLState=" + e.getSQLState() + ", code=" + e.getErrorCode());
            for (Throwable t : e) t.printStackTrace();
        }
    }
}
```

Security practices:
- Always bind parameters; never concatenate user input into SQL.
- Use least-privilege DB accounts.
- Store credentials securely (env vars, vaults), not hard-coded.

## 4. Best Practices & Pitfalls

- Wrap and rethrow with context; avoid swallowing stack traces.
- Use timeouts (`setQueryTimeout`) where available.
- Validate and limit result sizes to prevent memory issues.

## 5. Summary

- Proper exception handling and resource management are non-negotiable for safe, reliable JDBC code.

## 6. Tricky Interview Questions

1. What information in `SQLException` helps triage issues quickly?
2. How does try-with-resources order resource closing, and why does it matter?

