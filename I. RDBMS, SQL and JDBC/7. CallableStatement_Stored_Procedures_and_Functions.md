## 1. Topic Overview

- `CallableStatement` lets Java invoke stored procedures and functions with IN/OUT parameters.

## 2 . Topic definition

- WHAT: JDBC API for calling database routines (`{call proc(?, ?)}`), registering OUT params, reading results.
- WHY: Encapsulate complex logic in the database, reuse, and reduce round trips.
- HOW: Prepare call, bind IN params, register OUT types, execute, read OUT/ResultSets.
- WHEN/WHERE: Legacy DB logic, performance-sensitive multi-step operations.
- WHAT IF: DB portability issues; ensure proper JDBC types mapping.

## 3. Deep Dive with Examples

```java
// Example uses H2 syntax; adapt for your RDBMS
import java.sql.*;

public class CallDemo {
    public static void main(String[] args) throws Exception {
        String url = "jdbc:h2:mem:call;DB_CLOSE_DELAY=-1";
        try (Connection con = DriverManager.getConnection(url); Statement s = con.createStatement()) {
            s.execute("CREATE ALIAS addOne FOR \"java.lang.Math.incrementExact\"");
            try (CallableStatement cs = con.prepareCall("{? = call addOne(?)}")) {
                cs.registerOutParameter(1, Types.INTEGER);
                cs.setInt(2, 41);
                cs.execute();
                System.out.println("result=" + cs.getInt(1));
            }
        }
    }
}
```

```java
// Procedure with OUT parameter (DB-specific)
// For Oracle/MySQL, create a procedure and call via {call proc(?, ?)} with registerOutParameter
```

## 4. Best Practices & Pitfalls

- Handle NULLs carefully with `setNull` and appropriate SQL types.
- Be explicit with types when registering OUT params; match DB types.
- Document portability and keep business logic outside DB unless justified.

## 5. Summary

- `CallableStatement` bridges Java and database routines with IN/OUT parameter handling.

## 6. Tricky Interview Questions

1. Differences between calling functions vs procedures from JDBC.
2. How to handle OUT parameters and multiple ResultSets safely?

