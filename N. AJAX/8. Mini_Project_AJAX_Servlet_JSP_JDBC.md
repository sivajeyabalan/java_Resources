## 1. Topic Overview

Mini-project: Live Search for Products using AJAX. Frontend queries while typing; backend returns JSON from a database via JDBC.

## 2 . Topic definition

- **Scope**: HTML+JS page, AJAX fetch to `/api/products?q=...`, servlet queries DB, returns JSON, page updates suggestions.

## 3. Deep Dive with Examples

HTML/JS:
```html
<input id="q" placeholder="Search products"/>
<ul id="suggest"></ul>
<script>
const q = document.getElementById('q');
const list = document.getElementById('suggest');
let timer;
q.addEventListener('input', () => {
  clearTimeout(timer);
  timer = setTimeout(async () => {
    const res = await fetch('/api/products?q=' + encodeURIComponent(q.value));
    if (!res.ok) return;
    const items = await res.json();
    list.innerHTML = items.map(p => `<li>${p.name}</li>`).join('');
  }, 250);
});
</script>
```

Servlet + JDBC (sketch):
```java
@WebServlet("/api/products")
public class ProductSearchApi extends HttpServlet {
  protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException {
    String term = req.getParameter("q");
    java.util.List<Product> out = new java.util.ArrayList<>();
    try (Connection c = ds.getConnection();
         PreparedStatement ps = c.prepareStatement("select name from product where name like ? limit 10")) {
      ps.setString(1, term + "%");
      try (ResultSet rs = ps.executeQuery()) {
        while (rs.next()) out.add(new Product(rs.getString(1)));
      }
    } catch (SQLException e) { resp.sendError(500); return; }
    resp.setContentType("application/json");
    String json = out.stream().map(p -> "{\"name\":\""+p.name+"\"}").collect(java.util.stream.Collectors.joining(",","[","]"));
    resp.getWriter().write(json);
  }
  static class Product { final String name; Product(String n){ this.name=n; } }
  // DataSource ds acquisition omitted for brevity
}
```

## 4. Best Practices & Pitfalls

- Debounce input; parameterize SQL; return compact JSON; handle empty terms.
- Add server-side rate limiting if necessary; log slow queries.

## 5. Summary

- End-to-end AJAX search with partial updates and JDBC-backed API.

## 6. Tricky Interview Questions

1) How would you paginate and cache results client-side and server-side?
2) How do you protect this endpoint from abuse (DoS, brute force)?
