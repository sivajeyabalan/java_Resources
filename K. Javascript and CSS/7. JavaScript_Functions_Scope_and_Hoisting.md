## 1. Topic Overview

Functions are first‑class values in JavaScript. Scope determines where variables are visible; hoisting explains how declarations are processed before execution.

## 2 . Topic definition

- **What**: Function declarations/expressions/arrow functions; lexical scope; closures; hoisting of declarations.
- **Why**: Structure code, encapsulate state, and avoid global leaks.
- **How**: Use function/arrow syntax; rely on lexical `this` for arrows; understand TDZ (temporal dead zone) for `let/const`.
- **When/Where**: Modules, event handlers, callbacks, async code.
- **What If**: Misunderstood hoisting causes `undefined`/TDZ errors; wrong `this` in callbacks leads to bugs.

## 3. Deep Dive with Examples

```html
<script>
  // Declarations vs expressions
  console.log(sum(2,3)); // 5 (function declaration hoisted)
  function sum(a,b){ return a+b; }

  // Function expression (not hoisted as initialized)
  // console.log(mul(2,3)); // ReferenceError
  const mul = function(a,b){ return a*b; };

  // Arrow functions and implicit return
  const inc = x => x + 1;

  // Lexical scope & closures
  function makeCounter(){
    let count = 0; // private via closure
    return () => ++count;
  }
  const next = makeCounter();
  console.log(next()); // 1
  console.log(next()); // 2

  // this: arrow vs function
  const timer = {
    ticks: 0,
    start(){
      setInterval(() => { this.ticks++; }, 1000); // arrow keeps lexical this
    }
  };
  timer.start();

  // Hoisting & TDZ
  // console.log(aVar); // undefined (var hoisted, initialized to undefined)
  var aVar = 1;
  // console.log(aLet); // ReferenceError (TDZ)
  let aLet = 2;
</script>
```

## 4. Best Practices & Pitfalls

- Do: prefer `const` and arrow functions for small callbacks.
- Do: name functions for better stack traces.
- Do: leverage closures to encapsulate state.
- Don't: rely on `var`; avoid changing `this` with `bind` unless needed.
- Pitfalls: losing `this` in callbacks, re‑declaring vars, creating functions in loops capturing var indices.

## 5. Summary

- Understand function forms, lexical scope, closures, and hoisting/TDZ.

## 6. Tricky Interview Questions

1. Explain closures with a real example.
2. How do arrow functions handle `this`, `arguments`, and `new`?
3. Differences between declaration, expression, and arrow forms.
4. What is TDZ and when do you encounter it?
5. How to fix the classic for‑loop closure bug?


