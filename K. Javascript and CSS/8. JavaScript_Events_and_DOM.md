## 1. Topic Overview

The DOM (Document Object Model) represents HTML as nodes. Events notify code about user actions and lifecycle changes. You can read/modify the DOM and handle events to build interactivity.

## 2 . Topic definition

- **What**: DOM APIs (`querySelector`, `classList`, `dataset`), event model (capture → target → bubble), event listeners.
- **Why**: Create dynamic interfaces, respond to user input, and manipulate content.
- **How**: Add listeners with `addEventListener`; update attributes/styles/classes; delegate events for performance.
- **When/Where**: Buttons, forms, navigation, modals.
- **What If**: Inline handlers are hard to maintain; not removing listeners can leak memory.

## 3. Deep Dive with Examples

```html
<button id="toggle">Toggle</button>
<div id="panel" hidden>Hidden content</div>

<ul id="list">
  <li data-id="1">Item 1</li>
  <li data-id="2">Item 2</li>
  <li data-id="3">Item 3</li>
</ul>

<script>
  // Querying and updating
  const btn = document.querySelector('#toggle');
  const panel = document.getElementById('panel');
  btn.addEventListener('click', () => {
    panel.hidden = !panel.hidden;
    btn.textContent = panel.hidden ? 'Show' : 'Hide';
  });

  // Event delegation
  const list = document.getElementById('list');
  list.addEventListener('click', (e) => {
    const li = e.target.closest('li');
    if (!li) return;
    console.log('Clicked item id:', li.dataset.id);
    li.classList.toggle('active');
  });

  // Prevent default & stop propagation
  document.querySelectorAll('a[href^="#"]').forEach(a => {
    a.addEventListener('click', (e) => {
      e.preventDefault();
      // Scroll or handle routing here
    });
  });
</script>
```

## 4. Best Practices & Pitfalls

- Do: prefer `addEventListener` over inline handlers; use delegation for lists.
- Do: clean up listeners when elements are removed.
- Do: toggle classes instead of inlining styles.
- Don't: trust `innerHTML` with untrusted content (XSS risk).
- Pitfalls: event handler memory leaks, excessive reflows, forgetting passive listeners on scroll (`{ passive: true }`).

## 5. Summary

- Use DOM APIs to query/update elements and add event listeners; delegate for performance.

## 6. Tricky Interview Questions

1. Explain event capturing vs bubbling and how to control it.
2. What is event delegation and when is it useful?
3. How to avoid XSS when inserting user content?
4. How to optimize scroll/resize event handlers?
5. Differences between `innerHTML`, `textContent`, and `innerText`.


