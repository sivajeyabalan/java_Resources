## 1. Topic Overview

- Java uses automatic garbage collection (GC) to reclaim memory of unreachable objects.
- `finalize()` is deprecated and unreliable; avoid using it. Prefer `try-with-resources` / `AutoCloseable`.
- `Optional<T>` represents a value that may be present or absent; use to avoid `NullPointerException` in return values.

## 2. Deep Dive with Examples

### Beginner: GC concept

```java
public class GCDemo {
    public static void main(String[] args) {
        byte[] big = new byte[10_000_000]; // eligible when no references
        big = null; // now unreachable; GC may reclaim later
        System.gc(); // only a hint
    }
}
```

### Intermediate: Avoid `finalize()`, use AutoCloseable

```java
class Resource implements AutoCloseable {
    public void use() { /* ... */ }
    @Override public void close() { /* release native handles */ }
}

try (Resource r = new Resource()) {
    r.use();
} // closed automatically even if exceptions occur
```

### Advanced: `Optional` usage patterns

```java
import java.util.Optional;

class UserRepo {
    Optional<String> findEmail(String userId) {
        if (userId.equals("42")) return Optional.of("u@example.com");
        return Optional.empty();
    }
}

void sendEmail(UserRepo repo, String userId) {
    repo.findEmail(userId)
        .ifPresent(email -> System.out.println("sending to " + email));
}
```

## 3. Best Practices & Pitfalls

- Do not rely on `System.gc()`; GC runs when needed.
- Avoid `finalize()`; use `AutoCloseable` and cleaners if necessary.
- Use `Optional` for return types, not for fields or parameters in performance-critical paths.
- Pitfall: Calling `get()` on an empty `Optional` throws `NoSuchElementException`; prefer `orElse`, `orElseGet`, or `orElseThrow`.

## 4. Summary

- GC reclaims unreachable objects automatically.
- Resource management: prefer try-with-resources.
- `Optional` makes absence explicit and safer than `null` returns.

## 5. Tricky Interview Questions

1. Why is `finalize()` deprecated? Describe real issues it causes.
2. When does an object become eligible for GC? Give examples with cycles.
3. How do you deterministically release resources without `finalize()`?
4. When is using `Optional` in fields an anti-pattern and why?
5. Difference between `orElse` and `orElseGet` regarding eager evaluation?
