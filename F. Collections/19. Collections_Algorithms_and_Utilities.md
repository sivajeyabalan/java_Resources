## 1. Topic Overview

- `java.util.Collections` and `Arrays` provide utility algorithms (sort, shuffle, rotate, binarySearch) and wrappers (synchronized, unmodifiable) to simplify common tasks.

## 2 . Topic definition

- WHAT: Algorithms for lists, arrays utilities, wrappers for thread-safety and immutability, `EnumSet`, `EnumMap`.
- WHY: Reuse optimized implementations and concise APIs.
- HOW: Use static methods carefully with preconditions (sorted for `binarySearch`); choose appropriate wrappers.
- WHEN/WHERE: Utility operations, quick wrappers, enum-based sets/maps.
- WHAT IF: Wrong preconditions (unsorted) yield undefined results; synchronized wrappers require external iteration synchronization.

## 3. Deep Dive with Examples

```java
import java.util.*;

class UtilitiesDemo {
    public static void main(String[] args) {
        List<Integer> list = new ArrayList<>(List.of(3,1,2));
        Collections.sort(list);
        Collections.rotate(list, 1);
        Collections.shuffle(list);
        int idx = Collections.binarySearch(list, 2);
        System.out.println(list + ": " + idx);
    }
}
```

```java
// Synchronized wrappers
import java.util.*;

class SyncWrapper {
    public static void main(String[] args) {
        List<Integer> list = Collections.synchronizedList(new ArrayList<>());
        synchronized (list) {
            for (Integer i : list) { /* iterate safely */ }
        }
    }
}
```

```java
// EnumSet and EnumMap
import java.util.*;

enum Permission { READ, WRITE, EXEC }

class EnumCollections {
    public static void main(String[] args) {
        EnumSet<Permission> perms = EnumSet.of(Permission.READ, Permission.WRITE);
        EnumMap<Permission, String> map = new EnumMap<>(Permission.class);
        map.put(Permission.READ, "ok");
        System.out.println(perms + " " + map);
    }
}
```

## 4. Best Practices & Pitfalls

- Verify preconditions for algorithms (sortedness, comparators).
- Prefer `EnumSet/EnumMap` for enum keys for speed and memory efficiency.
- Use wrappers appropriately; for concurrency prefer concurrent collections over synchronized wrappers.

## 5. Summary

- Utilities accelerate common tasks; know preconditions and concurrency implications.

## 6. Tricky Interview Questions

1. Why must you synchronize on the wrapper when iterating a synchronized list?
2. Compare `EnumMap` vs `HashMap<Enum, V>` in performance and memory.
3. When does `binarySearch` give undefined results?

