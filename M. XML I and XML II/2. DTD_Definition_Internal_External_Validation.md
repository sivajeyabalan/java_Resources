## 1. Topic Overview

DTD (Document Type Definition) defines the structure and legal elements/attributes of an XML document. It can be internal or external and enables validation of XML instances.

## 2 . Topic definition

- **DTD**: Grammar for XML structure using declarations.
- **Internal DTD**: Declared inside the XML document.
- **External DTD**: Declared via SYSTEM or PUBLIC identifiers.
- **Validation**: Parser checks document against the DTD.

## 3. Deep Dive with Examples

Internal DTD:
```xml
<!DOCTYPE invoice [
  <!ELEMENT invoice (customer, lines)>
  <!ELEMENT customer (#PCDATA)>
  <!ELEMENT lines (line+)> 
  <!ELEMENT line (item, qty)>
  <!ELEMENT item (#PCDATA)>
  <!ELEMENT qty (#PCDATA)>
]>
<invoice>
  <customer>Acme</customer>
  <lines><line><item>Pen</item><qty>10</qty></line></lines>
</invoice>
```

External DTD reference:
```xml
<!DOCTYPE invoice SYSTEM "invoice.dtd">
```

`invoice.dtd`:
```
<!ELEMENT invoice (customer, lines)>
<!ELEMENT customer (#PCDATA)>
<!ELEMENT lines (line+)>
<!ELEMENT line (item, qty)>
<!ELEMENT item (#PCDATA)>
<!ELEMENT qty (#PCDATA)>
```

## 4. Best Practices & Pitfalls

- Prefer XSD for namespaces and data types; DTD lacks namespaces and rich types.
- Keep external DTDs accessible; avoid network fetch in production parsing.
- Pitfall: Entity expansion attacks (billion laughs) â€” disable external entities.

## 5. Summary

- DTD provides structural validation; useful historically, but XSD is more powerful.

## 6. Tricky Interview Questions

1) Why is DTD less suitable for modern namespaced XML?
2) How do you prevent XXE when validating against external DTDs?
