## 1. Topic Overview

Object-Relational Mapping (ORM) bridges Java objects and relational database tables. Hibernate is a popular ORM that maps classes to tables and handles CRUD, queries, and transactions, reducing boilerplate JDBC code.

## 2 . Topic definition

- **WHAT (ORM)**: A technique to persist object graphs into relational tables using mapping metadata.
- **WHY**: Eliminates manual SQL for common operations, manages identity, caching, and lazy loading.
- **HOW**: Annotate entities, configure datasource/dialect, use `Session`/`EntityManager` to persist and query.
- **WHEN/WHERE**: Enterprise apps with complex domain models; whenever object-centric access is preferred.
- **WHAT IF**: For heavy reporting or complex SQL, use native queries alongside ORM.
- **EXAMPLES**: `@Entity` maps to table; `@Id` identifies primary key.

## 3. Deep Dive with Examples

```java
// build.gradle (snippet)
dependencies { implementation("org.hibernate.orm:hibernate-core:6.4.4.Final"); implementation("org.postgresql:postgresql:42.7.3"); }
```

```java
// Entity
import jakarta.persistence.*;
@Entity @Table(name = "users")
public class User {
  @Id @GeneratedValue(strategy = GenerationType.IDENTITY)
  private Long id;
  private String name;
  // getters/setters
}
```

```java
// Bootstrap (Hibernate native API)
var registry = new org.hibernate.boot.registry.StandardServiceRegistryBuilder()
  .applySetting("hibernate.connection.url", "jdbc:postgresql://localhost:5432/app")
  .applySetting("hibernate.connection.username", "app")
  .applySetting("hibernate.connection.password", "app")
  .applySetting("hibernate.hbm2ddl.auto", "update")
  .applySetting("hibernate.dialect", "org.hibernate.dialect.PostgreSQLDialect").build();
var metadata = new org.hibernate.boot.MetadataSources(registry).addAnnotatedClass(User.class).buildMetadata();
var sessionFactory = metadata.buildSessionFactory();
try (var session = sessionFactory.openSession()) {
  session.beginTransaction();
  session.persist(new User());
  session.getTransaction().commit();
}
```

## 4. Best Practices & Pitfalls

- Start with simple mappings; add associations incrementally.
- Use lazy loading by default; fetch joins for necessary graphs.
- Pitfall: N+1 selects from careless fetching; analyze SQL logs.

## 5. Summary

- ORM maps classes â†” tables; Hibernate provides mapping, querying, and transaction support.

## 6. Tricky Interview Questions

1) When does ORM hinder performance and how to mitigate?
2) How does Hibernate manage object identity vs DB identity?
